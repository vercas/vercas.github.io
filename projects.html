---
layout: default
nocontainer: true
title: Projects
permalink: /projects/
---

<div id="projects">
	{% for project in site.projects %}
		<div class="panel panel-default">
			<div class="panel-heading"><a href="{{ site.baseurl }}{{ project.url }}">{{ project.title }}</a></div>
			<div class="panel-body">
				<p>{{ project.description }}</p>
			</div>

			{% if project.repo %}
				<ul class="list-group" data-repo-name="{{ project.repo }}">
					<li class="list-group-item repo-link-item"><a href="https://github.com/{{ project.repo }}">GitHub repository</a></li>
					<li class="list-group-item">
						<span class="stars"># stargazers</span>,
						<span class="watchers"># watchers</span>,
						<span class="forks"># forks</span>,
						<span class="issues"># issues</span>.
					</li>
				</ul>
			{% endif %}
		</div>
	{% endfor %}

	{% for repo in site.github.public_repositories %}
		<div class="panel panel-default">
			<div class="panel-heading"><a href="{{ repo.html_url }}">{{ repo.name }}</a></div>
			<div class="panel-body">
				<p>{{ repo.description }}</p>
			</div>

			<ul class="list-group" data-repo-name="{{ repo.full_name }}">
				<li class="list-group-item repo-link-item"><a href="https://github.com/{{ repo.full_name }}">GitHub repository</a></li>
				<li class="list-group-item">
					<span class="stars"># stargazers</span>,
					<span class="watchers"># watchers</span>,
					<span class="forks"># forks</span>,
					<span class="issues"># issues</span>.
				</li>
			</ul>
		</div>
	{% endfor %}
</div>

<script>
function countNoun(cnt, nounSing, nounPlur)
{
	if (cnt == 1)
		return "1 " + nounSing;
	else if (nounPlur)
		return cnt + " " + nounPlur;
	else
		return cnt + " " + nounSing + "s"
}

$(document).ready(function() {
	$("[data-repo-name]").each(function() {
		var $el = $(this)
		var name = $el.data("repoName")

		var $repoLinkItem = $el.find(".repo-link-item")
		var $stars = $el.find(".stars")
		var $watchers = $el.find(".watchers")
		var $forks = $el.find(".forks")
		var $issues = $el.find(".issues")

		$.ajax({
			url: "https://api.github.com/repos/" + name,
			success: function(dat)
			{
				$repoLinkItem.append('<span class="badge last-update">Last update: ' + dat.updated_at + '</span>');

				$stars.text(countNoun(dat.stargazers_count, 'stargazer'));
				$watchers.text(countNoun(dat.watchers_count, 'watcher'));
				$forks.text(countNoun(dat.forks_count, 'fork'));
				$issues.text(countNoun(dat.open_issues_count, 'issue'));
			},
			dataType: "json"
		});
	});
});
</script>

<script src="/scripts/macy.min.js"></script>

<script>
Macy.init({
	container: '#projects',
	trueOrder: false,
	waitForImages: false,
	margin: 24,
	columns: 5,
	breakAt: {
		2850: 4,
		2150: 3,
		1350: 2,
		650: 1
	}
});
</script>
